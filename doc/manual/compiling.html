<html>
<head>
<title> DTN2 Manual: Compiling DTN2 </title>
<link rel="stylesheet" type="text/css" href="manual.css" />
</head>
<body>
<h1>Compiling DTN2
</h1>

<p>
At the moment, DTN2 comes in source form only. Before you can install
it and start using it, you need to compile it.

<h2> On Unix </h2>

<p>
First, unpack the release.

<blockquote><pre>$ gunzip -c DTN2-X.Y.Z.tgz | tar xvf -
</pre></blockquote>

<p>Next, configure and compile DTN2: (the -C argument to configure
enables the cache which speeds up the process)

<blockquote><pre>
$ cd DTN2
$ sh configure -C
$ make
</pre></blockquote>

<p>If you just want to play with DTN2 to learn how it works, you can
stop here. You can use all the programs as a regular user, with them
in the source code directories. There's no need to do a full install
into the public part of the filesystem. However, if you are deploying
DTN2, you'll want to take a look at the <tt>tools/install.sh</tt>
script. You might want to customize it, as it currently puts the files
into <tt>/usr</tt>, and some people prefer to put files in
<tt>/usr/local</tt>.

<h3> Fetching the source code with CVS </h3>

<p>
We will try our best to propagate bug fixes to the current release of
the software. In some cases, however, you may want to get the source
code from the anonymous CVS repository instead. Please understand that
you're using <b>pre-alpha</b> software if you use the copy from CVS. We try
to keep what's in CVS working, but it is under active development, and
you might see bugs. Before reporting them, please always use "cvs up"
to get the newest copy, then recompile and reproduce the bug.

<blockquote><pre>$ cvs -d :pserver:anonymous@code.dtnrg.org:/orig login
(password is "bundles")
$ cvs -d :pserver:anonymous@code.dtnrg.org:/orig checkout DTN2
</pre></blockquote>

<h2> On Windows </h2>

<p>
DTN2 does not yet work as a native Windows application. It does,
however, work with the <a href="http://www.cygwin.com">Cygwin</a>
environment.

<h3> Install Cygwin </h3>

<p>
The first step is to install Cygwin on your computer. The best way to
do this is to download <a
href="http://cygwin.com/setup.exe">setup.exe</a> from their website.
We suggest storing it on your computer in a new directory you make
named <tt>c:\cygwin\download</tt>.

<p>
Start <tt>setup.exe</tt> and choose "Install from Internet". (Always
think carefully before running an executeable you downloaded from
the Internet, even if a nice manual like this told you to do it!
Is your virus checker running? Is it up to date? Did the file come from the
website you think it did?)
Use the default root directory, <tt>c:\cygwin</tt>.
Make the "Local Package Directory" <tt>c:\cygwin\download</tt>. Cygwin
will ask you to choose a mirror, so choose one that is close to you on the
Internet. It will then ask you to "Select Packages". The defaults here
are pretty good, but you need to make a few changes:

<ul>
<li> Open Database and ensure that <b>db4.2</b>, <b>libdb4.2</b>
and <b>libdb4.2-devel</b> are selected for installation.
<li> Open Editors and ensure an editor you like and know how to use is
selected.
<li> Open Libs, and check that the <b>tcltk</b> package will be installed.
</ul>

<p>
Continue with the installation. When it is done, you'll have a working
Cygwin installation and be ready to proceed. If you are asked to
reboot, please do so. This ensures the correct version of Cygwin will be
used.

<h3> Compile using Cygwin </h3>

<p> Once you have installed Cygwin, you'll have a new item in your
Start -&gt; All Programs menu called Cygwin, and inside that, one
called Bash.  When you select it, you get a <tt>bash</tt> shell, which
is like a <tt>CMD</tt> window, only cooler. You start out in your
home directory, which in Cygwin is <tt>/home/$user</tt>, but in
Windows, it is <tt>c:\cygwin\home\$user</tt>. Now that you have a
Unix-like window, follow the Unix instructions above. Cygwin comes
with CVS, so you can even use CVS to fetch the source code, as
described above.

</body>
</html>

